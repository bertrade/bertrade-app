/*
Source: https://gist.github.com/fincluster/6145995
Yahoo Finance stock historical data, prices and details retrieval function written in Javascript, jQuery and YQL
v2013-08-05
(c) 2013 by Fincluster ltd - http://fincluster.com <dev@fincluster.com>
*/
!function(a){function b(b,c,d){var e={desc:!1,baseURL:"http://query.yahooapis.com/v1/public/yql?q=",query:{quotes:'select * from yahoo.finance.quotes where symbol = "{stock}" | sort(field="{sortBy}", descending="{desc}")',historicaldata:'select * from yahoo.finance.historicaldata where symbol = "{stock}" and startDate = "{startDate}" and endDate = "{endDate}"'},suffixURL:{quotes:"&env=store://datatables.org/alltableswithkeys&format=json&callback=?",historicaldata:"&env=store://datatables.org/alltableswithkeys&format=json&callback=?"}};if(b=b||{},!b.stock)return void d("No stock defined");var f=e.query[c].replace("{stock}",b.stock).replace("{sortBy}",e.sortBy).replace("{desc}",e.desc).replace("{startDate}",b.startDate).replace("{endDate}",b.endDate),g=e.baseURL+f+(e.suffixURL[c]||"");a.getJSON(g,function(a){var b=null;a&&a.query||(b=!0),d(b,!b&&a.query.results)})}window.getStock=b}(jQuery);
